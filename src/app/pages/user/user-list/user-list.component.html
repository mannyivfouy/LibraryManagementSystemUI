<div
  class="container-fluid d-flex flex-column"
  style="width: 100%; height: 100%"
>
  <div class="row">
    <h3 class="p-0">All Users List</h3>
  </div>

  <div class="row">
    <div class="col-3 p-0">
      <form action="">
        <div class="input-group">
          <span class="input-group-text">
            <i class="bi bi-search"></i>
          </span>
          <input
            id="search"
            type="search"
            class="form-control"
            placeholder="Search By Username or Fullname"
            aria-label="Search by username"
          />
        </div>
      </form>
    </div>
    <div class="col-9 p-0 d-flex justify-content-end">
      <button class="btn btn-primary">
        <i class="bi bi-person-plus-fill me-1"></i>
        Add Users
      </button>
    </div>
  </div>

  <div class="row mt-3">
    <table class="table table-striped table-bordered align-middle text-center">
      <thead class="table-dark">
        <tr>
          <th>No</th>
          <th>Avatar</th>
          <th>Fullname</th>
          <th>Username</th>
          <th>Gender</th>
          <th>Address</th>
          <th>Phone Number</th>
          <th>Role</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody *ngFor="let user of paginatedUsers; let i = index">
        <tr>
          <td>{{ (currentPage - 1) * itemPerPage + i + 1 }}</td>
          <td>
            <img
              [src]="user.imageUrl"
              alt="Avatar"
              width="50"
              height="50"
              class="rounded-circle"
              style="object-fit: cover"
              (error)="
                user.imageUrl =
                  'http://localhost:5000/uploads/userImages/default.png'
              "
            />
          </td>
          <td>{{ user.fullname }}</td>
          <td>{{ user.username }}</td>
          <td>{{ user.gender }}</td>
          <td>{{ user.address }}</td>
          <td>{{ user.phoneNumber }}</td>
          <td>{{ user.roleID.name }}</td>
          <td>
            <button class="btn btn-warning me-3" routerLink="/user/createUser">
              <i class="bi bi-pencil-square me-1"></i>
              Edit
            </button>

            <button class="btn btn-danger">
              <i class="bi bi-trash3-fill me-1"></i>
              Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="d-flex justify-content-center mt-auto">
    <app-pagination
      [currentPage]="currentPage"
      [totalPages]="totalPages"
      (pageChange)="onPageChange($event)"
    >
    </app-pagination>
  </div>
</div>